name: JOB DBT (manual)

on:
  workflow_dispatch:
    inputs:
      DBT_COMMAND:
        description: "Command to run"
        required: true

jobs:
  generate-artifact:
    runs-on: ubuntu-latest
    steps:
      - name: Generate artifact
        shell: bash
        run: |
          echo "This is the file content" > my_artifact.txt

  use-artifact-in-docker:
    runs-on: ubuntu-latest
    container:
      image: ubuntu
    steps:
      - name: "Running in a container"
        run: |
          ls -l /.dockerenv
          hostname




  ###


    name: "Run DBT command"
    runs-on: ubuntu-latest
    steps:
      - name: 'Run Command'
        shell: bash
        run: |
          pwd
          ls -l 
          eval ${{ github.event.inputs.DBT_COMMAND }}

  
      - name: 'Run in docker'
        uses: docker://ubuntu
        with:
          entrypoint: bash
          args: "-c ${{ github.event.inputs.DBT_COMMAND }}"

