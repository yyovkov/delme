name: JOB DBT (manual)

on:
  workflow_dispatch:
    inputs:
      DBT_COMMAND:
        description: "Command to run"
        required: true

jobs:
  generate-artifact:
    runs-on: ubuntu-latest
    steps:
      - name: Generate artifact
        shell: bash
        run: |
          echo "The command is: ${{ github.event.inputs.DBT_COMMAND }}" > my_artifact.txt

  use-artifact-in-docker:
    needs: [generate-artifact]
    runs-on: ubuntu-latest
    container:
      image: ubuntu
    steps:
      - name: "Running in a container"
        run: |
          ls -l /.dockerenv
          hostname
          eval ${{ github.event.inputs.DBT_COMMAND }}
